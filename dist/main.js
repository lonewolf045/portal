(()=>{"use strict";var e={438:(e,t,o)=>{o.r(t),o.d(t,{importUsers:()=>v,userDatabase:()=>u,db:()=>n,importStudents:()=>h,studentDatabase:()=>i,importTeachers:()=>L,teacherDatabase:()=>p,importCourses:()=>E,courseDatabase:()=>g,importGroups:()=>q,groupDatabase:()=>f,updateGroup:()=>k}),firebase.initializeApp({apiKey:"AIzaSyDI7nXtkFGzhjnvqfPuHm6xIAJoebeK1tA",authDomain:"omega-portal-du.firebaseapp.com",databaseURL:"https://omega-portal-du.firebaseio.com",projectId:"omega-portal-du",storageBucket:"omega-portal-du.appspot.com",messagingSenderId:"654265063936",appId:"1:654265063936:web:ab123649861c035f7d96e5",measurementId:"G-JJT6FHL7GK"}),firebase.analytics();let n=firebase.database(),r=n.ref().child("users"),l=n.ref().child("Students"),c=n.ref().child("Teachers"),a=n.ref().child("Courses"),s=n.ref().child("Groups"),d="",u=[],i=[],m="",p=[],y="",g=[],b="",f=[],S="";const v=()=>{r.on("value",(function(e){d=e.val(),console.log(e.val()),u=Object.values(d),console.log(u)}))},h=()=>{l.on("value",(function(e){m=e.val(),console.log(e.val()),i=Object.values(m),console.log(i)}))},L=()=>{c.on("value",(function(e){y=e.val(),console.log(e.val()),p=Object.values(y),console.log(p)}))},E=()=>{a.on("value",(function(e){b=e.val(),console.log(e.val()),g=Object.values(b),console.log(g)}))},q=()=>{s.on("value",(function(e){S=e.val(),console.log(e.val()),f=Object.values(S),console.log(f)}))},k=(e,t)=>{let o=Object.keys(S),r=n.ref().child("Groups/"+o[e]);r.push(),r.update({groupStudent:t}),q()}},149:(e,t,o)=>{o.r(t),o.d(t,{createCourse:()=>c});const{importCourses:n,courseDatabase:r,db:l}=o(438),c=(e,t,o)=>{let c=((e,t,o,n,r)=>({courseName:e,courseCode:t,assignments:{},students:{},teacherCode:r}))(e,t,0,0,o);l.ref().child("Courses").push().set(c),n(),console.log(r)}}},t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=o(438);const{studentDatabase:t,db:n,importGroups:r}=o(438),{importUsers:l,importTeachers:c,db:a}=o(438),s=document.querySelector("#teacherClose"),d=document.querySelector("#studentClose"),u=document.querySelector(".open-student-button"),i=document.querySelector(".open-teacher-button"),m=document.querySelector("#groupClose"),p=document.querySelector(".open-group-button"),y=()=>{const t=document.forms.addStudent;console.log(t);let o=t.firstName.value,n=t.lastName.value,r=t.year.value,l=t.degree.value;console.log(o,n,r,l),((t,o,n,r)=>{let l=t.toLowerCase()+o+n,c=((e,t,o,n,r)=>({firstName:e,lastName:t,year:o,degree:n,username:r}))(t,o,n,r,l);e.db.ref().child("Students").push().set(c),e.db.ref().child("users").push().set({Type:"Student",username:c.username,password:"student123"}),(0,e.importUsers)(),(0,e.importStudents)()})(o,n,r,l),d.click(),u.click()},g=()=>{const e=document.forms.addTeacher;console.log(e);let t=e.firstName.value,o=e.lastName.value,n=e.teacherCode.value;console.log(t,o,n),((e,t,o)=>{let n=e.toLowerCase()+t+o,r=((e,t,o,n)=>({firstName:e,lastName:t,teacherCode:o,username:n}))(e,t,o,n);a.ref().child("Teachers").push().set(r),a.ref().child("users").push().set({Type:"Teacher",username:r.username,password:"teacher123"}),l(),c()})(t,o,n),s.click(),i.click()},b=()=>{const e=document.forms.addGroup;console.log(e);let t=e.groupName.value;console.log(t),(e=>{let t=((e,t)=>({groupName:e,groupStudents:new Array}))(e);console.log(t),n.ref().child("Groups").push().set(t),r()})(t),m.click(),p.click()},f=()=>{let t=[...e.studentDatabase];return console.log(e.studentDatabase),t},S=document.querySelector("#logout-button"),v=document.querySelector(".open-login-button"),h=document.querySelector(".teacher"),L=document.querySelector(".student"),E=document.querySelector(".group"),q=document.querySelector("#openBtnAdmin"),k=document.querySelector("#container"),C=e=>{var t;t=e,document.querySelector(".welcome-message").innerHTML="Welcome, "+t,T()},T=()=>{v.style.display="none",S.style.display="block",q.style.display="block"},D=()=>{h.style.display="block",L.style.display="none",E.style.display="none",k.innerHTML="";let t=(()=>{let t=[...e.teacherDatabase];return console.log(e.teacherDatabase),t})();console.log(t);let o=t.map((e=>M(e.firstName,e.lastName,e.teacherCode)));console.log(o),o.forEach((function(e){k.appendChild(e)}))},M=(e,t,o)=>{const n=document.createElement("div");n.classList.add("info-card");const r=document.createElement("div");r.classList.add("info-detail");const l=document.createElement("div");l.classList.add("info-detail");const c=document.createElement("div");return c.classList.add("info-detail"),r.innerHTML=e,l.innerHTML=t,c.innerHTML=o,n.appendChild(r),n.appendChild(l),n.appendChild(c),console.log(n),n},H=()=>{L.style.display="block",h.style.display="none",E.style.display="none",k.innerHTML="";let e=f();console.log(e);let t=e.map((e=>I(e.firstName,e.lastName,e.degree,e.year)));console.log(t),t.forEach((function(e){k.appendChild(e)}))},I=(e,t,o,n)=>{const r=document.createElement("div");r.classList.add("info-card");const l=document.createElement("div");l.classList.add("info-detail");const c=document.createElement("div");c.classList.add("info-detail");const a=document.createElement("div");a.classList.add("info-detail");const s=document.createElement("div");return s.classList.add("info-detail"),l.innerHTML=e,c.innerHTML=t,a.innerHTML=o,s.innerHTML=n,r.appendChild(l),r.appendChild(c),r.appendChild(a),r.appendChild(s),console.log(r),r},N=()=>{E.style.display="block",L.style.display="none",h.style.display="none",k.innerHTML="";let t=(()=>{let t=[...e.groupDatabase];return console.log(t),t})();console.log(t);let o=t.map((e=>w(e.groupName)));console.log(o),o.forEach((function(e){k.appendChild(e)}))},w=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");return o.classList.add("info-detail"),o.innerHTML=e,t.appendChild(o),console.log(t),t.addEventListener("click",(t=>{B(e,t)})),t},B=(e,t)=>{const o=document.createElement("div");o.classList.add("listMaker"),console.log(e);let n=f();console.log(n),n.map((t=>A(t,e))).forEach((function(e){o.appendChild(e)})),k.appendChild(o)},A=(t,o)=>{const n=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");n.innerHTML=t.firstName,r.innerHTML=t.lastName,l.innerHTML=t.year,c.innerHTML=t.degree;const a=document.createElement("div");a.appendChild(n),a.appendChild(r),a.appendChild(l),a.appendChild(c),console.log(a);for(let n=0;n<e.groupDatabase.length;n++)if(e.groupDatabase[n].groupName===o&&void 0!==e.groupDatabase[n].groupStudent)for(let o=0;o<e.groupDatabase[n].groupStudent.length;o++)if(e.groupDatabase[n].groupStudent[o].username==t.username)return a;const s=document.createElement("button");let d;for(s.innerHTML="+",d=0;d<e.groupDatabase.length&&e.groupDatabase[d].groupName!==o;d++);return s.addEventListener("click",(()=>{e.groupDatabase[d].groupStudent||(e.groupDatabase[d].groupStudent=new Array),e.groupDatabase[d].groupStudent.push(t),console.log(e.groupDatabase[d].groupStudent),(0,e.updateGroup)(d,e.groupDatabase[d].groupStudent),document.querySelector(".open-group-button").click()})),a.appendChild(s),a},G=document.querySelector("#logout-button"),j=document.querySelector(".open-login-button"),O=document.querySelector(".course"),x=e=>{var t;t=e,document.querySelector(".welcome-message").innerHTML="Welcome, "+t,P()},P=()=>{j.style.display="none",G.style.display="block",O.style.display="block"},U=document.querySelector("#logout-button"),F=document.querySelector(".open-login-button"),W=e=>{var t;t=e,document.querySelector(".welcome-message").innerHTML="Welcome, "+t,z()},z=()=>{F.style.display="none",U.style.display="block"},J=document.forms.loginForm,K=document.querySelector(".cancelLogin"),_=()=>{let t=J.username.value,o=J.password.value,n=J.type.value;"Admin"===n?((t,o)=>{for(let n=0;n<e.userDatabase.length;n++)if("Admin"===e.userDatabase[n].Type&&e.userDatabase[n].username===t&&e.userDatabase[n].password===o)return console.log("Success"),void C(t);window.alert("Wrong Login Credentials")})(t,o):"Teacher"===n?((t,o)=>{for(let n=0;n<e.userDatabase.length;n++)if("Teacher"===e.userDatabase[n].Type&&e.userDatabase[n].username===t&&e.userDatabase[n].password===o)return console.log("Success"),void x(t);console.log("Wrong Login Credentials")})(t,o):"Student"===n&&((t,o)=>{for(let n=0;n<e.userDatabase.length;n++)if("Student"===e.userDatabase[n].Type&&e.userDatabase[n].username===t&&e.userDatabase[n].password===o)return console.log("Success"),void W(t);console.log("Wrong Login Credentials")})(t,o),K.click()},R=document.querySelector(".open-login-button"),X=document.querySelector("#logout-button"),Q=document.querySelector(".teacher"),V=document.querySelector(".student"),Y=document.querySelector("#container"),Z=document.querySelector("#openBtnAdmin"),$=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Y.innerHTML="",console.log("Logged Out"),R.style.display="block",X.style.display="none",Q.style.display="none",V.style.display="none",Z.style.display="none"},{createCourse:ee}=o(149),te=document.querySelector("#courseClose"),oe=()=>{const e=document.forms.addCourse;console.log(e);let t=e.courseName.value,o=e.courseCode.value,n=e.teacherCode.value;console.log(t,o,n),ee(t,o,n),te.click()},ne=(document.querySelector("#btn"),document.querySelector("#btnLogin")),re=document.querySelector("#logout-button"),le=document.querySelector(".open-login-button"),ce=document.querySelector(".cancelLogin"),ae=document.querySelector(".teacher"),se=document.querySelector(".student"),de=(document.querySelector(".open-uppassword-button"),document.querySelector("#btnPassUpdate"),document.querySelector("#openBtnAdmin")),ue=(document.querySelector("#btnProfUpdate"),document.querySelector(".open-upprofile-button"),document.querySelector("#teacherClose")),ie=document.querySelector("#studentClose"),me=document.querySelector("#btnAddTeacher"),pe=document.querySelector("#btnAddStudent"),ye=document.querySelector("#closeNavAdmin"),ge=document.querySelector(".open-student-button"),be=document.querySelector(".open-teacher-button"),fe=document.querySelector(".course"),Se=document.querySelector("#courseClose"),ve=document.querySelector("#btnAddCourse"),he=document.querySelector(".group"),Le=document.querySelector(".open-group-button"),Ee=document.querySelector("#btnAddGroup"),qe=document.querySelector("#groupClose");function ke(){document.getElementById("addTeacher").style.display="block"}function Ce(){document.getElementById("addTeacher").style.display="none",document.forms.addTeacher.reset()}function Te(){document.getElementById("addStudent").style.display="block"}function De(){document.getElementById("addStudent").style.display="none",document.forms.addStudent.reset()}function Me(){document.getElementById("loginForm").style.display="block"}function He(){document.getElementById("loginForm").style.display="none",document.forms.loginForm.reset()}function Ie(){document.getElementById("addCourse").style.display="block"}function Ne(){document.getElementById("addCourse").style.display="none",document.forms.addCourse.reset()}function we(){document.getElementById("addGroup").style.display="block"}function Be(){document.getElementById("addGroup").style.display="none",document.forms.addGroup.reset()}function Ae(){document.getElementById("sidepanelAdmin").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Ge(){document.getElementById("sidepanelAdmin").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}(0,e.importUsers)(),(0,e.importStudents)(),(0,e.importTeachers)(),(0,e.importCourses)(),(0,e.importGroups)(),le.addEventListener("click",Me),ce.addEventListener("click",He),ne.addEventListener("click",_),ae.addEventListener("click",ke),ue.addEventListener("click",Ce),se.addEventListener("click",Te),ie.addEventListener("click",De),re.addEventListener("click",$),pe.addEventListener("click",y),me.addEventListener("click",g),de.addEventListener("click",Ae),ye.addEventListener("click",Ge),be.addEventListener("click",D),ge.addEventListener("click",H),Le.addEventListener("click",N),fe.addEventListener("click",Ie),Se.addEventListener("click",Ne),ve.addEventListener("click",oe),he.addEventListener("click",we),qe.addEventListener("click",Be),Ee.addEventListener("click",b)})()})();