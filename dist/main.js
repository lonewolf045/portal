(()=>{"use strict";var e={438:(e,t,n)=>{n.r(t),n.d(t,{returnReference:()=>J,importUsers:()=>w,userDatabase:()=>m,db:()=>s,importStudents:()=>A,studentDatabase:()=>p,importTeachers:()=>O,teacherDatabase:()=>g,importCourses:()=>j,courseDatabase:()=>f,importGroups:()=>G,groupDatabase:()=>S,updateGroup:()=>z,updateCourse:()=>P,returnCourseKey:()=>F,importAssignments:()=>x,assignmentDatabase:()=>E,importDepartment:()=>U});var o=n(204);firebase.initializeApp({apiKey:"AIzaSyDI7nXtkFGzhjnvqfPuHm6xIAJoebeK1tA",authDomain:"omega-portal-du.firebaseapp.com",databaseURL:"https://omega-portal-du.firebaseio.com",projectId:"omega-portal-du",storageBucket:"omega-portal-du.appspot.com",messagingSenderId:"654265063936",appId:"1:654265063936:web:ab123649861c035f7d96e5",measurementId:"G-JJT6FHL7GK"}),firebase.analytics();let s=firebase.database(),r=s.ref().child("users"),l=s.ref().child("Students"),c=s.ref().child("Teachers"),a=s.ref().child("Courses"),d=s.ref().child("Groups"),u=s.ref().child("Departments"),i="",m=[],p=[],y="",g=[],b="",f=[],h="",S=[],v="",E=[],L="",k=[],q="";const C=e=>{i=e.val(),console.log(e.val()),m=Object.values(i),console.log(m)},T=e=>{y=e.val(),console.log(e.val()),p=Object.values(y),console.log(p)},D=e=>{b=e.val(),console.log(e.val()),g=Object.values(b),console.log(g)},M=e=>{h=e.val(),console.log(e.val()),f=Object.values(h),console.log(f)},N=e=>{v=e.val(),console.log(e.val()),S=Object.values(v),console.log(S)},H=e=>{L=e.val(),console.log(e.val()),E=Object.values(L),console.log(E)},B=e=>{q=e.val(),console.log(e.val()),k=Object.values(q),console.log(k)},I=e=>new Promise(((t,n)=>{e.on("value",(e=>t(e)),(e=>n(e)))})),w=()=>I(r).then(C),A=()=>I(l).then(T),O=()=>I(c).then(D),j=e=>{let t=J(e);return a=s.ref().child("Teachers/"+t+"/Courses"),I(a).then(M)},G=()=>I(d).then(N),x=(e,t)=>{let n=J(e),o=F(e,t),r=s.ref().child("Teachers/"+n+"/Courses/"+o+"/Assignments");return I(r).then(H)},U=()=>I(u).then(B),z=(e,t)=>{let n=Object.keys(v);s.ref().child("Groups/"+n[e]).update({groupStudent:t}),G()},P=(e,t)=>{let n=Object.keys(h),r=J(o.E);s.ref().child("Teachers/"+r+"/Courses/"+n[e]).update({groups:t}),j(o.E)},J=e=>{let t,n=Object.keys(b);for(console.log(e),t=0;t<g.length&&g[t].username!==e;t++);return console.log(n),n[t]};let F=(e,t)=>{console.log(e),j(e);let n,s=Object.keys(h);for(console.log(h),console.log(s,e,o.E),n=0;n<f.length&&f[n].courseName!==t;n++);return s[n]}},149:(e,t,n)=>{n.r(t),n.d(t,{createCourse:()=>a});var o=n(204);const{importCourses:s,courseDatabase:r,db:l,returnReference:c}=n(438),a=(e,t)=>{let n=((e,t,n,o)=>({courseName:e,courseCode:t,assignments:{},students:{}}))(e,t),r=c(o.E);l.ref().child("Teachers/"+r+"/Courses").push().set(n),s(o.E)}},204:(e,t,n)=>{n.d(t,{N:()=>wt,E:()=>It});var o=n(438);const{studentDatabase:s,db:r,importGroups:l}=n(438),{importUsers:c,importTeachers:a,db:d}=n(438),u=document.querySelector("#teacherClose"),i=document.querySelector("#studentClose"),m=document.querySelector(".open-student-button"),p=document.querySelector(".open-teacher-button"),y=document.querySelector("#groupClose"),g=document.querySelector(".open-group-button"),b=()=>{const e=document.forms.addStudent;console.log(e);let t=e.firstName.value,n=e.lastName.value,s=e.year.value,r=e.degree.value,l=e.dept.value;console.log(t,n,s,r,l),((e,t,n,s,r)=>{let l=e.toLowerCase()+t+n,c=((e,t,n,o,s,r)=>({firstName:e,lastName:t,year:n,degree:o,username:r,dept:s}))(e,t,n,s,r,l);o.db.ref().child("Students").push().set(c),o.db.ref().child("users").push().set({Type:"Student",username:c.username,password:"student123"}),(0,o.importUsers)(),(0,o.importStudents)()})(t,n,s,r,l),i.click(),m.click()},f=()=>{const e=document.forms.addTeacher;console.log(e);let t=e.firstName.value,n=e.lastName.value,o=e.teacherCode.value;console.log(t,n,o),((e,t,n)=>{let o=e.toLowerCase()+t+n,s=((e,t,n,o)=>({firstName:e,lastName:t,teacherCode:n,username:o}))(e,t,n,o);d.ref().child("Teachers").push().set(s),d.ref().child("users").push().set({Type:"Teacher",username:s.username,password:"teacher123"}),c(),a()})(t,n,o),u.click(),p.click()},h=()=>{const e=document.forms.addGroup;console.log(e);let t=e.groupName.value;console.log(t),(e=>{let t=((e,t)=>({groupName:e,groupStudents:new Array}))(e);console.log(t),r.ref().child("Groups").push().set(t),l()})(t),y.click(),g.click()},S=()=>{let e=[...o.studentDatabase];return console.log(o.studentDatabase),e},v=()=>{let e=[...o.groupDatabase];return console.log(e),e},E=document.querySelector("#logout-button-admin"),L=document.querySelector(".open-login-button"),k=document.querySelector(".teacher"),q=document.querySelector(".student"),C=document.querySelector(".group"),T=document.querySelector("#openBtnAdmin"),D=document.querySelector("#container"),M=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),N()},N=()=>{L.style.display="none",E.style.display="block",T.style.display="block"},H=()=>{k.style.display="block",q.style.display="none",C.style.display="none",D.innerHTML="";let e=(()=>{let e=[...o.teacherDatabase];return console.log(o.teacherDatabase),e})();console.log(e);let t=e.map((e=>B(e.firstName,e.lastName,e.teacherCode)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},B=(e,t,n)=>{const o=document.createElement("div");o.classList.add("info-card");const s=document.createElement("div");s.classList.add("info-detail");const r=document.createElement("div");r.classList.add("info-detail");const l=document.createElement("div");return l.classList.add("info-detail"),s.innerHTML=e,r.innerHTML=t,l.innerHTML=n,o.appendChild(s),o.appendChild(r),o.appendChild(l),console.log(o),o},I=()=>{q.style.display="block",k.style.display="none",C.style.display="none",D.innerHTML="";let e=S();console.log(e);let t=e.map((e=>w(e.firstName,e.lastName,e.degree,e.year,e.dept)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},w=(e,t,n,o,s)=>{const r=document.createElement("div");r.classList.add("info-card");const l=document.createElement("div");l.classList.add("info-detail");const c=document.createElement("div");c.classList.add("info-detail");const a=document.createElement("div");a.classList.add("info-detail");const d=document.createElement("div");d.classList.add("info-detail");const u=document.createElement("div");return u.classList.add("info-detail"),l.innerHTML=e,c.innerHTML=t,a.innerHTML=n,d.innerHTML=o,u.innerHTML=s,r.appendChild(l),r.appendChild(c),r.appendChild(a),r.appendChild(d),r.appendChild(u),console.log(r),r},A=()=>{C.style.display="block",q.style.display="none",k.style.display="none",D.innerHTML="";let e=v();console.log(e);let t=e.map((e=>O(e.groupName)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},O=e=>{const t=document.createElement("div");t.classList.add("info-card");const n=document.createElement("div");return n.classList.add("info-detail"),n.innerHTML=e,t.appendChild(n),console.log(t),t.addEventListener("click",(t=>{j(e,t)})),t},j=(e,t)=>{const n=document.createElement("div");n.classList.add("listMaker"),console.log(e);let o=S();console.log(o),o.map((t=>G(t,e))).forEach((function(e){n.appendChild(e)})),D.appendChild(n),closeBlacklayer.style.display="block",closeBlacklayer.style.zIndex="15",closeBlacklayer.style.fontSize="75px"},G=(e,t)=>{const n=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");n.innerHTML=e.firstName,s.innerHTML=e.lastName,r.innerHTML=e.year,l.innerHTML=e.degree,c.innerHTML=e.dept;const a=document.createElement("div");a.appendChild(n),a.appendChild(s),a.appendChild(r),a.appendChild(l),a.appendChild(c),console.log(a);for(let n=0;n<o.groupDatabase.length;n++)if(o.groupDatabase[n].groupName===t&&void 0!==o.groupDatabase[n].groupStudent)for(let t=0;t<o.groupDatabase[n].groupStudent.length;t++)if(o.groupDatabase[n].groupStudent[t].username==e.username)return a;const d=document.createElement("button");let u;for(d.innerHTML="+",u=0;u<o.groupDatabase.length&&o.groupDatabase[u].groupName!==t;u++);return d.addEventListener("click",(()=>{o.groupDatabase[u].groupStudent||(o.groupDatabase[u].groupStudent=new Array),o.groupDatabase[u].groupStudent.push(e),console.log(o.groupDatabase[u].groupStudent),(0,o.updateGroup)(u,o.groupDatabase[u].groupStudent),document.querySelector(".open-group-button").click()})),a.appendChild(d),a},{returnReference:x,db:U,returnCourseKey:z,importAssignments:P}=n(438),{createCourse:J}=n(149),F=document.querySelector("#courseClose"),W=document.querySelector("#assignmentClose"),K=()=>{const e=document.forms.addCourse;console.log(e);let t=e.courseName.value,n=e.courseCode.value,o=e.teacherCode.value;console.log(t,n,o),J(t,n,o),F.click()},R=()=>{const e=document.forms.addAssignment;let t=e.assignmentDetail.value,n=e.dueDate.value;console.log(t,n),((e,t)=>{let n=((e,t)=>({assignmentDetails:e,dueDate:t}))(e,t);console.log("Attack"),console.log(It,wt);let o=z(It,wt),s=x(It);U.ref().child("Teachers/"+s+"/Courses/"+o+"/Assignments").push().set(n),P(It,wt)})(t,n),W.click()},_=()=>{let e=[...o.courseDatabase];return console.log(e),e},X=document.querySelector("#logout-button-teach"),Q=document.querySelector(".open-login-button"),V=document.querySelector(".course"),Y=document.querySelector(".assignment"),Z=document.querySelector("#closeBlacklayer"),$=document.querySelector("#openBtnTeach"),ee=document.querySelector("#container"),te=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),ne()},ne=()=>{Q.style.display="none",X.style.display="block",$.style.display="block"},oe=()=>{V.style.display="block",Y.style.display="none",ee.innerHTML="",_().map((e=>se(e))).forEach((function(e){ee.appendChild(e)}))},se=e=>{const t=document.createElement("div");t.classList.add("info-card");const n=document.createElement("div");n.classList.add("info-detail");const o=document.createElement("div");return o.classList.add("info-detail"),n.innerHTML=e.courseName,o.innerHTML=e.courseCode,t.appendChild(n),t.appendChild(o),t.addEventListener("click",(()=>{re(e.courseName)})),t},re=e=>{const t=document.createElement("div");t.classList.add("listMaker"),v().map((t=>le(t,e))).forEach((function(e){t.appendChild(e)})),ee.appendChild(t),Z.style.display="block",Z.style.zIndex="15",Z.style.fontSize="75px"},le=(e,t)=>{const n=document.createElement("div"),s=document.createElement("div");n.innerHTML=e.groupName,s.appendChild(n);for(let n=0;n<o.courseDatabase.length;n++)if(o.courseDatabase[n].courseName===t&&void 0!==o.courseDatabase[n].groups)for(let t=0;t<o.courseDatabase[n].groups.length;t++)if(o.courseDatabase[n].groups[t].groupName===e.groupName)return s;const r=document.createElement("button");let l;for(r.innerHTML="+",l=0;l<o.courseDatabase.length&&o.courseDatabase[l].courseName!==t;l++);return r.addEventListener("click",(()=>{o.courseDatabase[l].groups||(o.courseDatabase[l].groups=new Array),o.courseDatabase[l].groups.push(e),(0,o.updateCourse)(l,o.courseDatabase[l].groups),document.querySelector(".open-course-button").click()})),s.appendChild(r),s},ce=()=>{V.style.display="none",ee.innerHTML="",_().map((e=>ae(e))).forEach((function(e){ee.appendChild(e)}))},ae=e=>{const t=document.createElement("div");t.classList.add("info-card");const n=document.createElement("div");n.classList.add("info-detail");const s=document.createElement("div");return s.classList.add("info-detail"),n.innerHTML=e.courseName,s.innerHTML=e.courseCode,t.appendChild(n),t.appendChild(s),t.addEventListener("click",(()=>{wt=e.courseName,(0,o.importAssignments)(It,wt),console.log(o.assignmentDatabase),de(e.courseName)})),t},de=e=>{Y.style.display="block";const t=document.createElement("div");t.classList.add("listMaker");let n=(()=>{let e=[...o.assignmentDatabase];return console.log(e),e})(),s=n.map((e=>ue(e)));console.log(n),s.forEach((function(e){t.appendChild(e)})),ee.appendChild(t),Z.style.display="block",Z.style.zIndex="15",Z.style.fontSize="75px"},ue=e=>{const t=document.createElement("div"),n=document.createElement("div");t.innerHTML=e.assignmentDetails,n.innerHTML=e.dueDate;const o=document.createElement("div");return o.appendChild(t),o.appendChild(n),o},ie=document.querySelector("#logout-button-student"),me=document.querySelector(".open-login-button"),pe=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),ye()},ye=()=>{me.style.display="none",ie.style.display="block"},ge=(e,t)=>{let n={};n.username=e,n.password=t,n.type="admin",sessionStorage.currentUser=JSON.stringify(n)},be=(e,t)=>{let n={};n.username=e,n.password=t,n.type="teacher",sessionStorage.currentUser=JSON.stringify(n)},fe=(e,t)=>{let n={};n.username=e,n.password=t,n.type="student",sessionStorage.currentUser=JSON.stringify(n)},he=()=>{sessionStorage.removeItem("currentUser")},Se=(e,t)=>{for(let n=0;n<o.userDatabase.length;n++)if("Admin"===o.userDatabase[n].Type&&o.userDatabase[n].username===e&&o.userDatabase[n].password===t)return console.log("Success"),ge(e,t),void M(e);window.alert("Wrong Login Credentials")},ve=(e,t)=>{for(let n=0;n<o.userDatabase.length;n++)if("Teacher"===o.userDatabase[n].Type&&o.userDatabase[n].username===e&&o.userDatabase[n].password===t)return console.log("Success"),It=e,console.log(It),be(e,t),te(e),void(0,o.importCourses)(It);console.log("Wrong Login Credentials")},Ee=(e,t)=>{for(let n=0;n<o.userDatabase.length;n++)if("Student"===o.userDatabase[n].Type&&o.userDatabase[n].username===e&&o.userDatabase[n].password===t)return console.log("Success"),fe(e,t),void pe(e);console.log("Wrong Login Credentials")},Le=document.forms.loginForm,ke=document.querySelector(".cancelLogin"),qe=()=>{let e=Le.username.value,t=Le.password.value,n=Le.type.value;"Admin"===n?Se(e,t):"Teacher"===n?ve(e,t):"Student"===n&&Ee(e,t),ke.click()},Ce=document.querySelector(".open-login-button"),Te=document.querySelector("#logout-button-admin"),De=document.querySelector(".teacher"),Me=document.querySelector(".student"),Ne=document.querySelector("#container"),He=document.querySelector("#openBtnAdmin"),Be=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Ne.innerHTML="",console.log("Logged Out"),Ce.style.display="block",Te.style.display="none",De.style.display="none",Me.style.display="none",He.style.display="none",he()},Ie=document.querySelector(".open-login-button"),we=document.querySelector("#logout-button-teach"),Ae=document.querySelector(".course"),Oe=document.querySelector("#container"),je=document.querySelector("#openBtnTeach"),Ge=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Oe.innerHTML="",console.log("Logged Out"),Ie.style.display="block",we.style.display="none",Ae.style.display="none",je.style.display="none",he()},xe=(document.querySelector("#btn"),document.querySelector("#btnLogin")),Ue=document.querySelector("#logout-button-teach"),ze=document.querySelector("#logout-button-admin"),Pe=document.querySelector("#logout-button-student"),Je=document.querySelector(".open-login-button"),Fe=document.querySelector(".cancelLogin"),We=document.querySelector(".teacher"),Ke=document.querySelector(".student"),Re=(document.querySelector(".open-uppassword-button"),document.querySelector("#btnPassUpdate"),document.querySelector("#openBtnAdmin")),_e=(document.querySelector("#btnProfUpdate"),document.querySelector(".open-upprofile-button"),document.querySelector("#teacherClose")),Xe=document.querySelector("#studentClose"),Qe=document.querySelector("#btnAddTeacher"),Ve=document.querySelector("#btnAddStudent"),Ye=document.querySelector("#closeNavAdmin"),Ze=document.querySelector(".open-student-button"),$e=document.querySelector(".open-teacher-button"),et=document.querySelector(".course"),tt=document.querySelector("#courseClose"),nt=document.querySelector("#btnAddCourse"),ot=document.querySelector(".group"),st=document.querySelector(".open-group-button"),rt=document.querySelector("#btnAddGroup"),lt=document.querySelector("#groupClose"),ct=document.querySelector("#openBtnTeach"),at=document.querySelector("#closeNavTeach"),dt=document.querySelector(".open-course-button"),ut=document.querySelector(".assignment"),it=document.querySelector(".open-assignment-button"),mt=document.querySelector("#assignmentClose"),pt=document.querySelector("#btnAddAssignment"),yt=document.querySelector("#closeBlacklayer");function gt(){const e=document.querySelector(".listMaker");yt.style.display="none",e.remove()}function bt(){document.getElementById("addTeacher").style.display="block"}function ft(){document.getElementById("addTeacher").style.display="none",document.forms.addTeacher.reset()}function ht(){document.getElementById("addStudent").style.display="block"}function St(){document.getElementById("addStudent").style.display="none",document.forms.addStudent.reset()}function vt(){document.getElementById("loginForm").style.display="block"}function Et(){document.getElementById("loginForm").style.display="none",document.forms.loginForm.reset()}function Lt(){document.getElementById("addCourse").style.display="block"}function kt(){document.getElementById("addCourse").style.display="none",document.forms.addCourse.reset()}function qt(){document.getElementById("addGroup").style.display="block"}function Ct(){document.getElementById("addGroup").style.display="none",document.forms.addGroup.reset()}function Tt(){document.getElementById("addAssignment").style.display="block"}function Dt(){document.getElementById("addAssignment").style.display="none",document.forms.addAssignment.reset()}function Mt(){document.getElementById("sidepanelAdmin").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Nt(){document.getElementById("sidepanelAdmin").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}function Ht(){document.getElementById("sidepanelTeach").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Bt(){document.getElementById("sidepanelTeach").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}document.querySelector("#container");let It,wt;Promise.all([(0,o.importUsers)(),(0,o.importStudents)(),(0,o.importTeachers)(),(0,o.importGroups)()]).then((()=>{if(void 0===sessionStorage.currentUser)return;let e=JSON.parse(sessionStorage.currentUser);console.log(e),"admin"===e.type?(console.log("admin"),Se(e.username,e.password)):"teacher"===e.type?ve(e.username,e.password):"student"===e.type&&Ee(e.username,e.password)})),Je.addEventListener("click",vt),Fe.addEventListener("click",Et),xe.addEventListener("click",qe),We.addEventListener("click",bt),_e.addEventListener("click",ft),Ke.addEventListener("click",ht),Xe.addEventListener("click",St),ze.addEventListener("click",Be),Ue.addEventListener("click",Ge),Pe.addEventListener("click",Be),Ve.addEventListener("click",b),Qe.addEventListener("click",f),Re.addEventListener("click",Mt),Ye.addEventListener("click",Nt),$e.addEventListener("click",H),Ze.addEventListener("click",I),st.addEventListener("click",A),et.addEventListener("click",Lt),tt.addEventListener("click",kt),nt.addEventListener("click",K),ot.addEventListener("click",qt),lt.addEventListener("click",Ct),rt.addEventListener("click",h),ct.addEventListener("click",Ht),at.addEventListener("click",Bt),dt.addEventListener("click",oe),ut.addEventListener("click",Tt),it.addEventListener("click",ce),mt.addEventListener("click",Dt),pt.addEventListener("click",R),yt.addEventListener("click",gt)}},t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(204)})();