(()=>{"use strict";var e={438:(e,t,o)=>{o.r(t),o.d(t,{returnReference:()=>B,importUsers:()=>L,userDatabase:()=>i,db:()=>s,importStudents:()=>k,studentDatabase:()=>m,importTeachers:()=>q,teacherDatabase:()=>y,importCourses:()=>C,courseDatabase:()=>f,importGroups:()=>T,groupDatabase:()=>h,updateGroup:()=>M,updateCourse:()=>N,returnCourseKey:()=>H,importAssignments:()=>D,assignmentDatabase:()=>v});var n=o(204);firebase.initializeApp({apiKey:"AIzaSyDI7nXtkFGzhjnvqfPuHm6xIAJoebeK1tA",authDomain:"omega-portal-du.firebaseapp.com",databaseURL:"https://omega-portal-du.firebaseio.com",projectId:"omega-portal-du",storageBucket:"omega-portal-du.appspot.com",messagingSenderId:"654265063936",appId:"1:654265063936:web:ab123649861c035f7d96e5",measurementId:"G-JJT6FHL7GK"}),firebase.analytics();let s=firebase.database(),r=s.ref().child("users"),l=s.ref().child("Students"),c=s.ref().child("Teachers"),a=s.ref().child("Courses"),d=s.ref().child("Groups"),u="",i=[],m=[],p="",y=[],g="",f=[],b="",h=[],S="",v=[],E="";const L=()=>{r.on("value",(function(e){u=e.val(),console.log(e.val()),i=Object.values(u),console.log(i)}))},k=()=>{l.on("value",(function(e){p=e.val(),console.log(e.val()),m=Object.values(p),console.log(m)}))},q=()=>{c.on("value",(function(e){g=e.val(),console.log(e.val()),y=Object.values(g),console.log(y)}))},C=e=>{let t=B(e);a=s.ref().child("Teachers/"+t+"/Courses"),a.on("value",(function(e){b=e.val(),console.log(e.val()),f=Object.values(b),console.log(f)}))},T=()=>{d.on("value",(function(e){S=e.val(),console.log(e.val()),h=Object.values(S),console.log(h)}))},D=(e,t)=>{let o=B(e),n=H(e,t);s.ref().child("Teachers/"+o+"/Courses/"+n+"/Assignments").on("value",(function(e){E=e.val(),console.log(e.val()),v=Object.values(E),console.log(v)}))},M=(e,t)=>{let o=Object.keys(S);s.ref().child("Groups/"+o[e]).update({groupStudent:t}),T()},N=(e,t)=>{let o=Object.keys(b),r=B(n.E);s.ref().child("Teachers/"+r+"/Courses/"+o[e]).update({groups:t}),C(n.E)},B=e=>{let t,o=Object.keys(g);for(console.log(e),t=0;t<y.length&&y[t].username!==e;t++);return console.log(o),o[t]};let H=(e,t)=>{console.log(e),C(e);let o,s=Object.keys(b);for(console.log(b),console.log(s,e,n.E),o=0;o<f.length&&f[o].courseName!==t;o++);return s[o]}},149:(e,t,o)=>{o.r(t),o.d(t,{createCourse:()=>a});var n=o(204);const{importCourses:s,courseDatabase:r,db:l,returnReference:c}=o(438),a=(e,t)=>{let o=((e,t,o,n)=>({courseName:e,courseCode:t,assignments:{},students:{}}))(e,t),r=c(n.E);l.ref().child("Teachers/"+r+"/Courses").push().set(o),s(n.E)}},204:(e,t,o)=>{o.d(t,{N:()=>Bt,E:()=>Nt});var n=o(438);const{studentDatabase:s,db:r,importGroups:l}=o(438),{importUsers:c,importTeachers:a,db:d}=o(438),u=document.querySelector("#teacherClose"),i=document.querySelector("#studentClose"),m=document.querySelector(".open-student-button"),p=document.querySelector(".open-teacher-button"),y=document.querySelector("#groupClose"),g=document.querySelector(".open-group-button"),f=()=>{const e=document.forms.addStudent;console.log(e);let t=e.firstName.value,o=e.lastName.value,s=e.year.value,r=e.degree.value,l=e.dept.value;console.log(t,o,s,r,l),((e,t,o,s,r)=>{let l=e.toLowerCase()+t+o,c=((e,t,o,n,s,r)=>({firstName:e,lastName:t,year:o,degree:n,username:r,dept:s}))(e,t,o,s,r,l);n.db.ref().child("Students").push().set(c),n.db.ref().child("users").push().set({Type:"Student",username:c.username,password:"student123"}),(0,n.importUsers)(),(0,n.importStudents)()})(t,o,s,r,l),i.click(),m.click()},b=()=>{const e=document.forms.addTeacher;console.log(e);let t=e.firstName.value,o=e.lastName.value,n=e.teacherCode.value;console.log(t,o,n),((e,t,o)=>{let n=e.toLowerCase()+t+o,s=((e,t,o,n)=>({firstName:e,lastName:t,teacherCode:o,username:n}))(e,t,o,n);d.ref().child("Teachers").push().set(s),d.ref().child("users").push().set({Type:"Teacher",username:s.username,password:"teacher123"}),c(),a()})(t,o,n),u.click(),p.click()},h=()=>{const e=document.forms.addGroup;console.log(e);let t=e.groupName.value;console.log(t),(e=>{let t=((e,t)=>({groupName:e,groupStudents:new Array}))(e);console.log(t),r.ref().child("Groups").push().set(t),l()})(t),y.click(),g.click()},S=()=>{let e=[...n.studentDatabase];return console.log(n.studentDatabase),e},v=()=>{let e=[...n.groupDatabase];return console.log(e),e},E=document.querySelector("#logout-button-admin"),L=document.querySelector(".open-login-button"),k=document.querySelector(".teacher"),q=document.querySelector(".student"),C=document.querySelector(".group"),T=document.querySelector("#openBtnAdmin"),D=document.querySelector("#container"),M=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),N()},N=()=>{L.style.display="none",E.style.display="block",T.style.display="block"},B=()=>{k.style.display="block",q.style.display="none",C.style.display="none",D.innerHTML="";let e=(()=>{let e=[...n.teacherDatabase];return console.log(n.teacherDatabase),e})();console.log(e);let t=e.map((e=>H(e.firstName,e.lastName,e.teacherCode)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},H=(e,t,o)=>{const n=document.createElement("div");n.classList.add("info-card");const s=document.createElement("div");s.classList.add("info-detail");const r=document.createElement("div");r.classList.add("info-detail");const l=document.createElement("div");return l.classList.add("info-detail"),s.innerHTML=e,r.innerHTML=t,l.innerHTML=o,n.appendChild(s),n.appendChild(r),n.appendChild(l),console.log(n),n},I=()=>{q.style.display="block",k.style.display="none",C.style.display="none",D.innerHTML="";let e=S();console.log(e);let t=e.map((e=>w(e.firstName,e.lastName,e.degree,e.year)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},w=(e,t,o,n)=>{const s=document.createElement("div");s.classList.add("info-card");const r=document.createElement("div");r.classList.add("info-detail");const l=document.createElement("div");l.classList.add("info-detail");const c=document.createElement("div");c.classList.add("info-detail");const a=document.createElement("div");return a.classList.add("info-detail"),r.innerHTML=e,l.innerHTML=t,c.innerHTML=o,a.innerHTML=n,s.appendChild(r),s.appendChild(l),s.appendChild(c),s.appendChild(a),console.log(s),s},A=()=>{C.style.display="block",q.style.display="none",k.style.display="none",D.innerHTML="";let e=v();console.log(e);let t=e.map((e=>O(e.groupName)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},O=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");return o.classList.add("info-detail"),o.innerHTML=e,t.appendChild(o),console.log(t),t.addEventListener("click",(t=>{j(e,t)})),t},j=(e,t)=>{const o=document.createElement("div");o.classList.add("listMaker"),console.log(e);let n=S();console.log(n),n.map((t=>G(t,e))).forEach((function(e){o.appendChild(e)})),D.appendChild(o),closeBlacklayer.style.display="block",closeBlacklayer.style.zIndex="15",closeBlacklayer.style.fontSize="75px"},G=(e,t)=>{const o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div");o.innerHTML=e.firstName,s.innerHTML=e.lastName,r.innerHTML=e.year,l.innerHTML=e.degree;const c=document.createElement("div");c.appendChild(o),c.appendChild(s),c.appendChild(r),c.appendChild(l),console.log(c);for(let o=0;o<n.groupDatabase.length;o++)if(n.groupDatabase[o].groupName===t&&void 0!==n.groupDatabase[o].groupStudent)for(let t=0;t<n.groupDatabase[o].groupStudent.length;t++)if(n.groupDatabase[o].groupStudent[t].username==e.username)return c;const a=document.createElement("button");let d;for(a.innerHTML="+",d=0;d<n.groupDatabase.length&&n.groupDatabase[d].groupName!==t;d++);return a.addEventListener("click",(()=>{n.groupDatabase[d].groupStudent||(n.groupDatabase[d].groupStudent=new Array),n.groupDatabase[d].groupStudent.push(e),console.log(n.groupDatabase[d].groupStudent),(0,n.updateGroup)(d,n.groupDatabase[d].groupStudent),document.querySelector(".open-group-button").click()})),c.appendChild(a),c},{returnReference:x,db:U,returnCourseKey:z,importAssignments:J}=o(438),{createCourse:P}=o(149),F=document.querySelector("#courseClose"),W=document.querySelector("#assignmentClose"),K=()=>{const e=document.forms.addCourse;console.log(e);let t=e.courseName.value,o=e.courseCode.value,n=e.teacherCode.value;console.log(t,o,n),P(t,o,n),F.click()},R=()=>{const e=document.forms.addAssignment;let t=e.assignmentDetail.value,o=e.dueDate.value;console.log(t,o),((e,t)=>{let o=((e,t)=>({assignmentDetails:e,dueDate:t}))(e,t);console.log("Attack"),console.log(Nt,Bt);let n=z(Nt,Bt),s=x(Nt);U.ref().child("Teachers/"+s+"/Courses/"+n+"/Assignments").push().set(o),J(Nt,Bt)})(t,o),W.click()},_=()=>{let e=[...n.courseDatabase];return console.log(e),e},X=document.querySelector("#logout-button-teach"),Q=document.querySelector(".open-login-button"),V=document.querySelector(".course"),Y=document.querySelector(".assignment"),Z=document.querySelector("#closeBlacklayer"),$=document.querySelector("#openBtnTeach"),ee=document.querySelector("#container"),te=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),oe()},oe=()=>{Q.style.display="none",X.style.display="block",$.style.display="block"},ne=()=>{V.style.display="block",Y.style.display="none",ee.innerHTML="",_().map((e=>se(e))).forEach((function(e){ee.appendChild(e)}))},se=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");o.classList.add("info-detail");const n=document.createElement("div");return n.classList.add("info-detail"),o.innerHTML=e.courseName,n.innerHTML=e.courseCode,t.appendChild(o),t.appendChild(n),t.addEventListener("click",(()=>{re(e.courseName)})),t},re=e=>{const t=document.createElement("div");t.classList.add("listMaker"),v().map((t=>le(t,e))).forEach((function(e){t.appendChild(e)})),ee.appendChild(t),Z.style.display="block",Z.style.zIndex="15",Z.style.fontSize="75px"},le=(e,t)=>{const o=document.createElement("div"),s=document.createElement("div");o.innerHTML=e.groupName,s.appendChild(o);for(let o=0;o<n.courseDatabase.length;o++)if(n.courseDatabase[o].courseName===t&&void 0!==n.courseDatabase[o].groups)for(let t=0;t<n.courseDatabase[o].groups.length;t++)if(n.courseDatabase[o].groups[t].groupName===e.groupName)return s;const r=document.createElement("button");let l;for(r.innerHTML="+",l=0;l<n.courseDatabase.length&&n.courseDatabase[l].courseName!==t;l++);return r.addEventListener("click",(()=>{n.courseDatabase[l].groups||(n.courseDatabase[l].groups=new Array),n.courseDatabase[l].groups.push(e),(0,n.updateCourse)(l,n.courseDatabase[l].groups),document.querySelector(".open-course-button").click()})),s.appendChild(r),s},ce=()=>{V.style.display="none",ee.innerHTML="",_().map((e=>ae(e))).forEach((function(e){ee.appendChild(e)}))},ae=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");o.classList.add("info-detail");const s=document.createElement("div");return s.classList.add("info-detail"),o.innerHTML=e.courseName,s.innerHTML=e.courseCode,t.appendChild(o),t.appendChild(s),t.addEventListener("click",(()=>{Bt=e.courseName,(0,n.importAssignments)(Nt,Bt),console.log(n.assignmentDatabase),de(e.courseName)})),t},de=e=>{Y.style.display="block";const t=document.createElement("div");t.classList.add("listMaker");let o=(()=>{let e=[...n.assignmentDatabase];return console.log(e),e})(),s=o.map((e=>ue(e)));console.log(o),s.forEach((function(e){t.appendChild(e)})),ee.appendChild(t),Z.style.display="block",Z.style.zIndex="15",Z.style.fontSize="75px"},ue=e=>{const t=document.createElement("div"),o=document.createElement("div");t.innerHTML=e.assignmentDetails,o.innerHTML=e.dueDate;const n=document.createElement("div");return n.appendChild(t),n.appendChild(o),n},ie=document.querySelector("#logout-button-student"),me=document.querySelector(".open-login-button"),pe=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),ye()},ye=()=>{me.style.display="none",ie.style.display="block"},ge=(e,t)=>{let o={};o.username=e,o.password=t,o.type="admin",sessionStorage.currentUser=JSON.stringify(o)},fe=(e,t)=>{let o={};o.username=e,o.password=t,o.type="teacher",sessionStorage.currentUser=JSON.stringify(o)},be=(e,t)=>{let o={};o.username=e,o.password=t,o.type="student",sessionStorage.currentUser=JSON.stringify(o)},he=()=>{sessionStorage.removeItem("currentUser")},Se=document.forms.loginForm,ve=document.querySelector(".cancelLogin"),Ee=()=>{let e=Se.username.value,t=Se.password.value,o=Se.type.value;"Admin"===o?((e,t)=>{for(let o=0;o<n.userDatabase.length;o++)if("Admin"===n.userDatabase[o].Type&&n.userDatabase[o].username===e&&n.userDatabase[o].password===t)return console.log("Success"),ge(e,t),void M(e);window.alert("Wrong Login Credentials")})(e,t):"Teacher"===o?((e,t)=>{for(let o=0;o<n.userDatabase.length;o++)if("Teacher"===n.userDatabase[o].Type&&n.userDatabase[o].username===e&&n.userDatabase[o].password===t)return console.log("Success"),Nt=e,console.log(Nt),fe(e,t),te(e),void(0,n.importCourses)(Nt);console.log("Wrong Login Credentials")})(e,t):"Student"===o&&((e,t)=>{for(let o=0;o<n.userDatabase.length;o++)if("Student"===n.userDatabase[o].Type&&n.userDatabase[o].username===e&&n.userDatabase[o].password===t)return console.log("Success"),be(e,t),void pe(e);console.log("Wrong Login Credentials")})(e,t),ve.click()},Le=document.querySelector(".open-login-button"),ke=document.querySelector("#logout-button-admin"),qe=document.querySelector(".teacher"),Ce=document.querySelector(".student"),Te=document.querySelector("#container"),De=document.querySelector("#openBtnAdmin"),Me=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Te.innerHTML="",console.log("Logged Out"),Le.style.display="block",ke.style.display="none",qe.style.display="none",Ce.style.display="none",De.style.display="none",he()},Ne=document.querySelector(".open-login-button"),Be=document.querySelector("#logout-button-teach"),He=document.querySelector(".course"),Ie=document.querySelector("#container"),we=document.querySelector("#openBtnTeach"),Ae=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Ie.innerHTML="",console.log("Logged Out"),Ne.style.display="block",Be.style.display="none",He.style.display="none",we.style.display="none",he()},Oe=(document.querySelector("#btn"),document.querySelector("#btnLogin")),je=document.querySelector("#logout-button-teach"),Ge=document.querySelector("#logout-button-admin"),xe=document.querySelector("#logout-button-student"),Ue=document.querySelector(".open-login-button"),ze=document.querySelector(".cancelLogin"),Je=document.querySelector(".teacher"),Pe=document.querySelector(".student"),Fe=(document.querySelector(".open-uppassword-button"),document.querySelector("#btnPassUpdate"),document.querySelector("#openBtnAdmin")),We=(document.querySelector("#btnProfUpdate"),document.querySelector(".open-upprofile-button"),document.querySelector("#teacherClose")),Ke=document.querySelector("#studentClose"),Re=document.querySelector("#btnAddTeacher"),_e=document.querySelector("#btnAddStudent"),Xe=document.querySelector("#closeNavAdmin"),Qe=document.querySelector(".open-student-button"),Ve=document.querySelector(".open-teacher-button"),Ye=document.querySelector(".course"),Ze=document.querySelector("#courseClose"),$e=document.querySelector("#btnAddCourse"),et=document.querySelector(".group"),tt=document.querySelector(".open-group-button"),ot=document.querySelector("#btnAddGroup"),nt=document.querySelector("#groupClose"),st=document.querySelector("#openBtnTeach"),rt=document.querySelector("#closeNavTeach"),lt=document.querySelector(".open-course-button"),ct=document.querySelector(".assignment"),at=document.querySelector(".open-assignment-button"),dt=document.querySelector("#assignmentClose"),ut=document.querySelector("#btnAddAssignment"),it=document.querySelector("#closeBlacklayer");function mt(){const e=document.querySelector(".listMaker");it.style.display="none",e.remove()}function pt(){document.getElementById("addTeacher").style.display="block"}function yt(){document.getElementById("addTeacher").style.display="none",document.forms.addTeacher.reset()}function gt(){document.getElementById("addStudent").style.display="block"}function ft(){document.getElementById("addStudent").style.display="none",document.forms.addStudent.reset()}function bt(){document.getElementById("loginForm").style.display="block"}function ht(){document.getElementById("loginForm").style.display="none",document.forms.loginForm.reset()}function St(){document.getElementById("addCourse").style.display="block"}function vt(){document.getElementById("addCourse").style.display="none",document.forms.addCourse.reset()}function Et(){document.getElementById("addGroup").style.display="block"}function Lt(){document.getElementById("addGroup").style.display="none",document.forms.addGroup.reset()}function kt(){document.getElementById("addAssignment").style.display="block"}function qt(){document.getElementById("addAssignment").style.display="none",document.forms.addAssignment.reset()}function Ct(){document.getElementById("sidepanelAdmin").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Tt(){document.getElementById("sidepanelAdmin").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}function Dt(){document.getElementById("sidepanelTeach").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Mt(){document.getElementById("sidepanelTeach").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}document.querySelector("#container");let Nt,Bt;!async function(){(0,n.importUsers)(),(0,n.importStudents)(),(0,n.importTeachers)(),(0,n.importGroups)(),Ue.addEventListener("click",bt),ze.addEventListener("click",ht),Oe.addEventListener("click",Ee),Je.addEventListener("click",pt),We.addEventListener("click",yt),Pe.addEventListener("click",gt),Ke.addEventListener("click",ft),Ge.addEventListener("click",Me),je.addEventListener("click",Ae),xe.addEventListener("click",Me),_e.addEventListener("click",f),Re.addEventListener("click",b),Fe.addEventListener("click",Ct),Xe.addEventListener("click",Tt),Ve.addEventListener("click",B),Qe.addEventListener("click",I),tt.addEventListener("click",A),Ye.addEventListener("click",St),Ze.addEventListener("click",vt),$e.addEventListener("click",K),et.addEventListener("click",Et),nt.addEventListener("click",Lt),ot.addEventListener("click",h),st.addEventListener("click",Dt),rt.addEventListener("click",Mt),lt.addEventListener("click",ne),ct.addEventListener("click",kt),at.addEventListener("click",ce),dt.addEventListener("click",qt),ut.addEventListener("click",R),it.addEventListener("click",mt)}(),(()=>{if(void 0===sessionStorage.currentUser)return;let e=JSON.parse(sessionStorage.currentUser);console.log(e),"admin"===e.type?(console.log("admin"),M(e.username,e.password)):"teacher"===e.type?te(e.username,e.password):"student"===e.type&&pe(e.username,e.password)})()}},t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(204)})();