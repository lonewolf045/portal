(()=>{"use strict";var e={438:(e,t,o)=>{o.r(t),o.d(t,{returnReference:()=>G,importUsers:()=>N,userDatabase:()=>i,db:()=>s,importStudents:()=>B,studentDatabase:()=>m,importTeachers:()=>H,teacherDatabase:()=>y,importCourses:()=>I,courseDatabase:()=>b,importGroups:()=>w,groupDatabase:()=>h,updateGroup:()=>O,updateCourse:()=>j,returnCourseKey:()=>x,importAssignments:()=>A,assignmentDatabase:()=>v});var n=o(204);firebase.initializeApp({apiKey:"AIzaSyDI7nXtkFGzhjnvqfPuHm6xIAJoebeK1tA",authDomain:"omega-portal-du.firebaseapp.com",databaseURL:"https://omega-portal-du.firebaseio.com",projectId:"omega-portal-du",storageBucket:"omega-portal-du.appspot.com",messagingSenderId:"654265063936",appId:"1:654265063936:web:ab123649861c035f7d96e5",measurementId:"G-JJT6FHL7GK"}),firebase.analytics();let s=firebase.database(),r=s.ref().child("users"),l=s.ref().child("Students"),c=s.ref().child("Teachers"),a=s.ref().child("Courses"),d=s.ref().child("Groups"),u="",i=[],m=[],p="",y=[],g="",b=[],f="",h=[],S="",v=[],E="";const L=e=>{u=e.val(),console.log(e.val()),i=Object.values(u),console.log(i)},k=e=>{p=e.val(),console.log(e.val()),m=Object.values(p),console.log(m)},q=e=>{g=e.val(),console.log(e.val()),y=Object.values(g),console.log(y)},C=e=>{f=e.val(),console.log(e.val()),b=Object.values(f),console.log(b)},T=e=>{S=e.val(),console.log(e.val()),h=Object.values(S),console.log(h)},D=e=>{E=e.val(),console.log(e.val()),v=Object.values(E),console.log(v)},M=e=>new Promise(((t,o)=>{e.on("value",(e=>t(e)),(e=>o(e)))})),N=()=>M(r).then(L),B=()=>M(l).then(k),H=()=>M(c).then(q),I=e=>{let t=G(e);return a=s.ref().child("Teachers/"+t+"/Courses"),M(a).then(C)},w=()=>M(d).then(T),A=(e,t)=>{let o=G(e),n=x(e,t),r=s.ref().child("Teachers/"+o+"/Courses/"+n+"/Assignments");return M(r).then(D)},O=(e,t)=>{let o=Object.keys(S);s.ref().child("Groups/"+o[e]).update({groupStudent:t}),w()},j=(e,t)=>{let o=Object.keys(f),r=G(n.E);s.ref().child("Teachers/"+r+"/Courses/"+o[e]).update({groups:t}),I(n.E)},G=e=>{let t,o=Object.keys(g);for(console.log(e),t=0;t<y.length&&y[t].username!==e;t++);return console.log(o),o[t]};let x=(e,t)=>{console.log(e),I(e);let o,s=Object.keys(f);for(console.log(f),console.log(s,e,n.E),o=0;o<b.length&&b[o].courseName!==t;o++);return s[o]}},149:(e,t,o)=>{o.r(t),o.d(t,{createCourse:()=>a});var n=o(204);const{importCourses:s,courseDatabase:r,db:l,returnReference:c}=o(438),a=(e,t)=>{let o=((e,t,o,n)=>({courseName:e,courseCode:t,assignments:{},students:{}}))(e,t),r=c(n.E);l.ref().child("Teachers/"+r+"/Courses").push().set(o),s(n.E)}},204:(e,t,o)=>{o.d(t,{N:()=>wt,E:()=>It});var n=o(438);const{studentDatabase:s,db:r,importGroups:l}=o(438),{importUsers:c,importTeachers:a,db:d}=o(438),u=document.querySelector("#teacherClose"),i=document.querySelector("#studentClose"),m=document.querySelector(".open-student-button"),p=document.querySelector(".open-teacher-button"),y=document.querySelector("#groupClose"),g=document.querySelector(".open-group-button"),b=()=>{const e=document.forms.addStudent;console.log(e);let t=e.firstName.value,o=e.lastName.value,s=e.year.value,r=e.degree.value,l=e.dept.value;console.log(t,o,s,r,l),((e,t,o,s,r)=>{let l=e.toLowerCase()+t+o,c=((e,t,o,n,s,r)=>({firstName:e,lastName:t,year:o,degree:n,username:r,dept:s}))(e,t,o,s,r,l);n.db.ref().child("Students").push().set(c),n.db.ref().child("users").push().set({Type:"Student",username:c.username,password:"student123"}),(0,n.importUsers)(),(0,n.importStudents)()})(t,o,s,r,l),i.click(),m.click()},f=()=>{const e=document.forms.addTeacher;console.log(e);let t=e.firstName.value,o=e.lastName.value,n=e.teacherCode.value;console.log(t,o,n),((e,t,o)=>{let n=e.toLowerCase()+t+o,s=((e,t,o,n)=>({firstName:e,lastName:t,teacherCode:o,username:n}))(e,t,o,n);d.ref().child("Teachers").push().set(s),d.ref().child("users").push().set({Type:"Teacher",username:s.username,password:"teacher123"}),c(),a()})(t,o,n),u.click(),p.click()},h=()=>{const e=document.forms.addGroup;console.log(e);let t=e.groupName.value;console.log(t),(e=>{let t=((e,t)=>({groupName:e,groupStudents:new Array}))(e);console.log(t),r.ref().child("Groups").push().set(t),l()})(t),y.click(),g.click()},S=()=>{let e=[...n.studentDatabase];return console.log(n.studentDatabase),e},v=()=>{let e=[...n.groupDatabase];return console.log(e),e},E=document.querySelector("#logout-button-admin"),L=document.querySelector(".open-login-button"),k=document.querySelector(".teacher"),q=document.querySelector(".student"),C=document.querySelector(".group"),T=document.querySelector("#openBtnAdmin"),D=document.querySelector("#container"),M=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),N()},N=()=>{L.style.display="none",E.style.display="block",T.style.display="block"},B=()=>{k.style.display="block",q.style.display="none",C.style.display="none",D.innerHTML="";let e=(()=>{let e=[...n.teacherDatabase];return console.log(n.teacherDatabase),e})();console.log(e);let t=e.map((e=>H(e.firstName,e.lastName,e.teacherCode)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},H=(e,t,o)=>{const n=document.createElement("div");n.classList.add("info-card");const s=document.createElement("div");s.classList.add("info-detail");const r=document.createElement("div");r.classList.add("info-detail");const l=document.createElement("div");return l.classList.add("info-detail"),s.innerHTML=e,r.innerHTML=t,l.innerHTML=o,n.appendChild(s),n.appendChild(r),n.appendChild(l),console.log(n),n},I=()=>{q.style.display="block",k.style.display="none",C.style.display="none",D.innerHTML="";let e=S();console.log(e);let t=e.map((e=>w(e.firstName,e.lastName,e.degree,e.year)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},w=(e,t,o,n)=>{const s=document.createElement("div");s.classList.add("info-card");const r=document.createElement("div");r.classList.add("info-detail");const l=document.createElement("div");l.classList.add("info-detail");const c=document.createElement("div");c.classList.add("info-detail");const a=document.createElement("div");return a.classList.add("info-detail"),r.innerHTML=e,l.innerHTML=t,c.innerHTML=o,a.innerHTML=n,s.appendChild(r),s.appendChild(l),s.appendChild(c),s.appendChild(a),console.log(s),s},A=()=>{C.style.display="block",q.style.display="none",k.style.display="none",D.innerHTML="";let e=v();console.log(e);let t=e.map((e=>O(e.groupName)));console.log(t),t.forEach((function(e){D.appendChild(e)}))},O=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");return o.classList.add("info-detail"),o.innerHTML=e,t.appendChild(o),console.log(t),t.addEventListener("click",(t=>{j(e,t)})),t},j=(e,t)=>{const o=document.createElement("div");o.classList.add("listMaker"),console.log(e);let n=S();console.log(n),n.map((t=>G(t,e))).forEach((function(e){o.appendChild(e)})),D.appendChild(o),closeBlacklayer.style.display="block",closeBlacklayer.style.zIndex="15",closeBlacklayer.style.fontSize="75px"},G=(e,t)=>{const o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div");o.innerHTML=e.firstName,s.innerHTML=e.lastName,r.innerHTML=e.year,l.innerHTML=e.degree;const c=document.createElement("div");c.appendChild(o),c.appendChild(s),c.appendChild(r),c.appendChild(l),console.log(c);for(let o=0;o<n.groupDatabase.length;o++)if(n.groupDatabase[o].groupName===t&&void 0!==n.groupDatabase[o].groupStudent)for(let t=0;t<n.groupDatabase[o].groupStudent.length;t++)if(n.groupDatabase[o].groupStudent[t].username==e.username)return c;const a=document.createElement("button");let d;for(a.innerHTML="+",d=0;d<n.groupDatabase.length&&n.groupDatabase[d].groupName!==t;d++);return a.addEventListener("click",(()=>{n.groupDatabase[d].groupStudent||(n.groupDatabase[d].groupStudent=new Array),n.groupDatabase[d].groupStudent.push(e),console.log(n.groupDatabase[d].groupStudent),(0,n.updateGroup)(d,n.groupDatabase[d].groupStudent),document.querySelector(".open-group-button").click()})),c.appendChild(a),c},{returnReference:x,db:U,returnCourseKey:z,importAssignments:P}=o(438),{createCourse:J}=o(149),F=document.querySelector("#courseClose"),W=document.querySelector("#assignmentClose"),K=()=>{const e=document.forms.addCourse;console.log(e);let t=e.courseName.value,o=e.courseCode.value,n=e.teacherCode.value;console.log(t,o,n),J(t,o,n),F.click()},R=()=>{const e=document.forms.addAssignment;let t=e.assignmentDetail.value,o=e.dueDate.value;console.log(t,o),((e,t)=>{let o=((e,t)=>({assignmentDetails:e,dueDate:t}))(e,t);console.log("Attack"),console.log(It,wt);let n=z(It,wt),s=x(It);U.ref().child("Teachers/"+s+"/Courses/"+n+"/Assignments").push().set(o),P(It,wt)})(t,o),W.click()},_=()=>{let e=[...n.courseDatabase];return console.log(e),e},X=document.querySelector("#logout-button-teach"),Q=document.querySelector(".open-login-button"),V=document.querySelector(".course"),Y=document.querySelector(".assignment"),Z=document.querySelector("#closeBlacklayer"),$=document.querySelector("#openBtnTeach"),ee=document.querySelector("#container"),te=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),oe()},oe=()=>{Q.style.display="none",X.style.display="block",$.style.display="block"},ne=()=>{V.style.display="block",Y.style.display="none",ee.innerHTML="",_().map((e=>se(e))).forEach((function(e){ee.appendChild(e)}))},se=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");o.classList.add("info-detail");const n=document.createElement("div");return n.classList.add("info-detail"),o.innerHTML=e.courseName,n.innerHTML=e.courseCode,t.appendChild(o),t.appendChild(n),t.addEventListener("click",(()=>{re(e.courseName)})),t},re=e=>{const t=document.createElement("div");t.classList.add("listMaker"),v().map((t=>le(t,e))).forEach((function(e){t.appendChild(e)})),ee.appendChild(t),Z.style.display="block",Z.style.zIndex="15",Z.style.fontSize="75px"},le=(e,t)=>{const o=document.createElement("div"),s=document.createElement("div");o.innerHTML=e.groupName,s.appendChild(o);for(let o=0;o<n.courseDatabase.length;o++)if(n.courseDatabase[o].courseName===t&&void 0!==n.courseDatabase[o].groups)for(let t=0;t<n.courseDatabase[o].groups.length;t++)if(n.courseDatabase[o].groups[t].groupName===e.groupName)return s;const r=document.createElement("button");let l;for(r.innerHTML="+",l=0;l<n.courseDatabase.length&&n.courseDatabase[l].courseName!==t;l++);return r.addEventListener("click",(()=>{n.courseDatabase[l].groups||(n.courseDatabase[l].groups=new Array),n.courseDatabase[l].groups.push(e),(0,n.updateCourse)(l,n.courseDatabase[l].groups),document.querySelector(".open-course-button").click()})),s.appendChild(r),s},ce=()=>{V.style.display="none",ee.innerHTML="",_().map((e=>ae(e))).forEach((function(e){ee.appendChild(e)}))},ae=e=>{const t=document.createElement("div");t.classList.add("info-card");const o=document.createElement("div");o.classList.add("info-detail");const s=document.createElement("div");return s.classList.add("info-detail"),o.innerHTML=e.courseName,s.innerHTML=e.courseCode,t.appendChild(o),t.appendChild(s),t.addEventListener("click",(()=>{wt=e.courseName,(0,n.importAssignments)(It,wt),console.log(n.assignmentDatabase),de(e.courseName)})),t},de=e=>{Y.style.display="block";const t=document.createElement("div");t.classList.add("listMaker");let o=(()=>{let e=[...n.assignmentDatabase];return console.log(e),e})(),s=o.map((e=>ue(e)));console.log(o),s.forEach((function(e){t.appendChild(e)})),ee.appendChild(t),Z.style.display="block",Z.style.zIndex="15",Z.style.fontSize="75px"},ue=e=>{const t=document.createElement("div"),o=document.createElement("div");t.innerHTML=e.assignmentDetails,o.innerHTML=e.dueDate;const n=document.createElement("div");return n.appendChild(t),n.appendChild(o),n},ie=document.querySelector("#logout-button-student"),me=document.querySelector(".open-login-button"),pe=e=>{!function(e){document.querySelector(".welcome-message").innerHTML="Welcome, "+e}(e),ye()},ye=()=>{me.style.display="none",ie.style.display="block"},ge=(e,t)=>{let o={};o.username=e,o.password=t,o.type="admin",sessionStorage.currentUser=JSON.stringify(o)},be=(e,t)=>{let o={};o.username=e,o.password=t,o.type="teacher",sessionStorage.currentUser=JSON.stringify(o)},fe=(e,t)=>{let o={};o.username=e,o.password=t,o.type="student",sessionStorage.currentUser=JSON.stringify(o)},he=()=>{sessionStorage.removeItem("currentUser")},Se=(e,t)=>{for(let o=0;o<n.userDatabase.length;o++)if("Admin"===n.userDatabase[o].Type&&n.userDatabase[o].username===e&&n.userDatabase[o].password===t)return console.log("Success"),ge(e,t),void M(e);window.alert("Wrong Login Credentials")},ve=(e,t)=>{for(let o=0;o<n.userDatabase.length;o++)if("Teacher"===n.userDatabase[o].Type&&n.userDatabase[o].username===e&&n.userDatabase[o].password===t)return console.log("Success"),It=e,console.log(It),be(e,t),te(e),void(0,n.importCourses)(It);console.log("Wrong Login Credentials")},Ee=(e,t)=>{for(let o=0;o<n.userDatabase.length;o++)if("Student"===n.userDatabase[o].Type&&n.userDatabase[o].username===e&&n.userDatabase[o].password===t)return console.log("Success"),fe(e,t),void pe(e);console.log("Wrong Login Credentials")},Le=document.forms.loginForm,ke=document.querySelector(".cancelLogin"),qe=()=>{let e=Le.username.value,t=Le.password.value,o=Le.type.value;"Admin"===o?Se(e,t):"Teacher"===o?ve(e,t):"Student"===o&&Ee(e,t),ke.click()},Ce=document.querySelector(".open-login-button"),Te=document.querySelector("#logout-button-admin"),De=document.querySelector(".teacher"),Me=document.querySelector(".student"),Ne=document.querySelector("#container"),Be=document.querySelector("#openBtnAdmin"),He=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Ne.innerHTML="",console.log("Logged Out"),Ce.style.display="block",Te.style.display="none",De.style.display="none",Me.style.display="none",Be.style.display="none",he()},Ie=document.querySelector(".open-login-button"),we=document.querySelector("#logout-button-teach"),Ae=document.querySelector(".course"),Oe=document.querySelector("#container"),je=document.querySelector("#openBtnTeach"),Ge=()=>{console.log("Clicked"),document.querySelector(".welcome-message").innerHTML="",Oe.innerHTML="",console.log("Logged Out"),Ie.style.display="block",we.style.display="none",Ae.style.display="none",je.style.display="none",he()},xe=(document.querySelector("#btn"),document.querySelector("#btnLogin")),Ue=document.querySelector("#logout-button-teach"),ze=document.querySelector("#logout-button-admin"),Pe=document.querySelector("#logout-button-student"),Je=document.querySelector(".open-login-button"),Fe=document.querySelector(".cancelLogin"),We=document.querySelector(".teacher"),Ke=document.querySelector(".student"),Re=(document.querySelector(".open-uppassword-button"),document.querySelector("#btnPassUpdate"),document.querySelector("#openBtnAdmin")),_e=(document.querySelector("#btnProfUpdate"),document.querySelector(".open-upprofile-button"),document.querySelector("#teacherClose")),Xe=document.querySelector("#studentClose"),Qe=document.querySelector("#btnAddTeacher"),Ve=document.querySelector("#btnAddStudent"),Ye=document.querySelector("#closeNavAdmin"),Ze=document.querySelector(".open-student-button"),$e=document.querySelector(".open-teacher-button"),et=document.querySelector(".course"),tt=document.querySelector("#courseClose"),ot=document.querySelector("#btnAddCourse"),nt=document.querySelector(".group"),st=document.querySelector(".open-group-button"),rt=document.querySelector("#btnAddGroup"),lt=document.querySelector("#groupClose"),ct=document.querySelector("#openBtnTeach"),at=document.querySelector("#closeNavTeach"),dt=document.querySelector(".open-course-button"),ut=document.querySelector(".assignment"),it=document.querySelector(".open-assignment-button"),mt=document.querySelector("#assignmentClose"),pt=document.querySelector("#btnAddAssignment"),yt=document.querySelector("#closeBlacklayer");function gt(){const e=document.querySelector(".listMaker");yt.style.display="none",e.remove()}function bt(){document.getElementById("addTeacher").style.display="block"}function ft(){document.getElementById("addTeacher").style.display="none",document.forms.addTeacher.reset()}function ht(){document.getElementById("addStudent").style.display="block"}function St(){document.getElementById("addStudent").style.display="none",document.forms.addStudent.reset()}function vt(){document.getElementById("loginForm").style.display="block"}function Et(){document.getElementById("loginForm").style.display="none",document.forms.loginForm.reset()}function Lt(){document.getElementById("addCourse").style.display="block"}function kt(){document.getElementById("addCourse").style.display="none",document.forms.addCourse.reset()}function qt(){document.getElementById("addGroup").style.display="block"}function Ct(){document.getElementById("addGroup").style.display="none",document.forms.addGroup.reset()}function Tt(){document.getElementById("addAssignment").style.display="block"}function Dt(){document.getElementById("addAssignment").style.display="none",document.forms.addAssignment.reset()}function Mt(){document.getElementById("sidepanelAdmin").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Nt(){document.getElementById("sidepanelAdmin").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}function Bt(){document.getElementById("sidepanelTeach").style.width="280px",document.getElementById("container").style.left="280px",document.getElementById("head").style.left="40%"}function Ht(){document.getElementById("sidepanelTeach").style.width="0",document.getElementById("container").style.left="0",document.getElementById("head").style.left="30%"}document.querySelector("#container");let It,wt;Promise.all([(0,n.importUsers)(),(0,n.importStudents)(),(0,n.importTeachers)(),(0,n.importGroups)()]).then((()=>{if(void 0===sessionStorage.currentUser)return;let e=JSON.parse(sessionStorage.currentUser);console.log(e),"admin"===e.type?(console.log("admin"),Se(e.username,e.password)):"teacher"===e.type?ve(e.username,e.password):"student"===e.type&&Ee(e.username,e.password)})),Je.addEventListener("click",vt),Fe.addEventListener("click",Et),xe.addEventListener("click",qe),We.addEventListener("click",bt),_e.addEventListener("click",ft),Ke.addEventListener("click",ht),Xe.addEventListener("click",St),ze.addEventListener("click",He),Ue.addEventListener("click",Ge),Pe.addEventListener("click",He),Ve.addEventListener("click",b),Qe.addEventListener("click",f),Re.addEventListener("click",Mt),Ye.addEventListener("click",Nt),$e.addEventListener("click",B),Ze.addEventListener("click",I),st.addEventListener("click",A),et.addEventListener("click",Lt),tt.addEventListener("click",kt),ot.addEventListener("click",K),nt.addEventListener("click",qt),lt.addEventListener("click",Ct),rt.addEventListener("click",h),ct.addEventListener("click",Bt),at.addEventListener("click",Ht),dt.addEventListener("click",ne),ut.addEventListener("click",Tt),it.addEventListener("click",ce),mt.addEventListener("click",Dt),pt.addEventListener("click",R),yt.addEventListener("click",gt)}},t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(204)})();